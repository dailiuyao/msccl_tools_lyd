# nThread 1 nGpus 1 minBytes 32768 maxBytes 536870912 step: 2(factor) warmup iters: 5 iters: 20 agg iters: 1 validation: 1 graph: 0
#
# Using devices
#  Rank  0 Group  0 Pid    651 on   c196-101 device  0 [0x02] Quadro RTX 5000
#  Rank  1 Group  0 Pid    652 on   c196-101 device  1 [0x03] Quadro RTX 5000
#  Rank  2 Group  0 Pid    665 on   c196-101 device  2 [0x82] Quadro RTX 5000
#  Rank  3 Group  0 Pid    666 on   c196-101 device  3 [0x83] Quadro RTX 5000
#  Rank  4 Group  0 Pid  28911 on   c197-022 device  0 [0x02] Quadro RTX 5000
#  Rank  5 Group  0 Pid  28912 on   c197-022 device  1 [0x03] Quadro RTX 5000
#  Rank  6 Group  0 Pid  28913 on   c197-022 device  2 [0x82] Quadro RTX 5000
#  Rank  7 Group  0 Pid  28914 on   c197-022 device  3 [0x83] Quadro RTX 5000
#  Rank  8 Group  0 Pid   2151 on   c197-031 device  0 [0x02] Quadro RTX 5000
#  Rank  9 Group  0 Pid   2152 on   c197-031 device  1 [0x03] Quadro RTX 5000
#  Rank 10 Group  0 Pid   2153 on   c197-031 device  2 [0x82] Quadro RTX 5000
#  Rank 11 Group  0 Pid   2154 on   c197-031 device  3 [0x83] Quadro RTX 5000
#  Rank 12 Group  0 Pid  23007 on   c197-052 device  0 [0x02] Quadro RTX 5000
#  Rank 13 Group  0 Pid  23008 on   c197-052 device  1 [0x03] Quadro RTX 5000
#  Rank 14 Group  0 Pid  23009 on   c197-052 device  2 [0x82] Quadro RTX 5000
#  Rank 15 Group  0 Pid  23010 on   c197-052 device  3 [0x83] Quadro RTX 5000
#  Rank 16 Group  0 Pid  22185 on   c198-041 device  0 [0x02] Quadro RTX 5000
#  Rank 17 Group  0 Pid  22186 on   c198-041 device  1 [0x03] Quadro RTX 5000
#  Rank 18 Group  0 Pid  22187 on   c198-041 device  2 [0x82] Quadro RTX 5000
#  Rank 19 Group  0 Pid  22188 on   c198-041 device  3 [0x83] Quadro RTX 5000
#  Rank 20 Group  0 Pid   6797 on   c198-042 device  0 [0x02] Quadro RTX 5000
#  Rank 21 Group  0 Pid   6798 on   c198-042 device  1 [0x03] Quadro RTX 5000
#  Rank 22 Group  0 Pid   6799 on   c198-042 device  2 [0x82] Quadro RTX 5000
#  Rank 23 Group  0 Pid   6800 on   c198-042 device  3 [0x83] Quadro RTX 5000
#  Rank 24 Group  0 Pid  17919 on   c199-011 device  0 [0x02] Quadro RTX 5000
#  Rank 25 Group  0 Pid  17920 on   c199-011 device  1 [0x03] Quadro RTX 5000
#  Rank 26 Group  0 Pid  17921 on   c199-011 device  2 [0x82] Quadro RTX 5000
#  Rank 27 Group  0 Pid  17922 on   c199-011 device  3 [0x83] Quadro RTX 5000
#  Rank 28 Group  0 Pid  23015 on   c199-032 device  0 [0x02] Quadro RTX 5000
#  Rank 29 Group  0 Pid  23016 on   c199-032 device  1 [0x03] Quadro RTX 5000
#  Rank 30 Group  0 Pid  23017 on   c199-032 device  2 [0x82] Quadro RTX 5000
#  Rank 31 Group  0 Pid  23018 on   c199-032 device  3 [0x83] Quadro RTX 5000
c196-101:651:651 [0] NCCL INFO Bootstrap : Using ib0:192.168.44.119<0>
c196-101:651:651 [0] NCCL INFO NET/Plugin : No plugin found (libnccl-net.so), using internal implementation
c196-101:651:651 [0] NCCL INFO NET/IB : Using [0]mlx4_0:1/IB [RO]; OOB ib0:192.168.44.119<0>
c196-101:651:651 [0] NCCL INFO Using network IB
NCCL version 2.12.12.MSCCL.0.7.4+cuda11.3
c196-101:651:697 [0] NCCL INFO Setting affinity for GPU 0 to 0f000f
c196-101:651:697 [0] NCCL INFO NCCL_MAX_NCHANNELS set by environment to 4.
c196-101:651:697 [0] NCCL INFO NCCL_MIN_NCHANNELS set by environment to 4.
c196-101:651:697 [0] NCCL INFO Channel 00/04 :    0   1   2   3   4   5   6   7   8   9  10  11  12  13  14  15  16  17  18  19
c196-101:651:697 [0] NCCL INFO Channel 01/04 :    0   1   2   3   4   5   6   7   8   9  10  11  12  13  14  15  16  17  18  19
c196-101:651:697 [0] NCCL INFO Channel 02/04 :    0   1   2   3   4   5   6   7   8   9  10  11  12  13  14  15  16  17  18  19
c196-101:651:697 [0] NCCL INFO Channel 03/04 :    0   1   2   3   4   5   6   7   8   9  10  11  12  13  14  15  16  17  18  19
c196-101:651:697 [0] NCCL INFO Trees [0] 1/16/-1->0->-1 [1] 1/-1/-1->0->4 [2] 1/16/-1->0->-1 [3] 1/-1/-1->0->4
c196-101:651:697 [0] NCCL INFO Channel 00/0 : 31[83000] -> 0[2000] [receive] via NET/IB/0
c196-101:651:697 [0] NCCL INFO Channel 01/0 : 31[83000] -> 0[2000] [receive] via NET/IB/0
c196-101:651:697 [0] NCCL INFO Channel 02/0 : 31[83000] -> 0[2000] [receive] via NET/IB/0
c196-101:651:697 [0] NCCL INFO Channel 03/0 : 31[83000] -> 0[2000] [receive] via NET/IB/0
c196-101:651:697 [0] NCCL INFO Channel 00 : 0[2000] -> 1[3000] via direct shared memory
c196-101:651:697 [0] NCCL INFO Channel 01 : 0[2000] -> 1[3000] via direct shared memory
c196-101:651:697 [0] NCCL INFO Channel 02 : 0[2000] -> 1[3000] via direct shared memory
c196-101:651:697 [0] NCCL INFO Channel 03 : 0[2000] -> 1[3000] via direct shared memory
c196-101:651:697 [0] NCCL INFO Connected all rings
c196-101:651:697 [0] NCCL INFO Channel 01/0 : 0[2000] -> 4[2000] [send] via NET/IB/0
c196-101:651:697 [0] NCCL INFO Channel 03/0 : 0[2000] -> 4[2000] [send] via NET/IB/0
c196-101:651:697 [0] NCCL INFO Channel 00/0 : 16[2000] -> 0[2000] [receive] via NET/IB/0
c196-101:651:697 [0] NCCL INFO Channel 02/0 : 16[2000] -> 0[2000] [receive] via NET/IB/0
c196-101:651:697 [0] NCCL INFO Channel 00/0 : 0[2000] -> 16[2000] [send] via NET/IB/0
c196-101:651:697 [0] NCCL INFO Channel 02/0 : 0[2000] -> 16[2000] [send] via NET/IB/0
c196-101:651:697 [0] NCCL INFO Channel 01/0 : 4[2000] -> 0[2000] [receive] via NET/IB/0
c196-101:651:697 [0] NCCL INFO Channel 03/0 : 4[2000] -> 0[2000] [receive] via NET/IB/0
c196-101:651:697 [0] NCCL INFO Connected all trees
c196-101:651:697 [0] NCCL INFO MSCCL_XML_FILES set by environment to /home1/09168/ldai1/ccl-build/msccl_tools_lyd/examples/xml/allreduce_binary_tree_p_gpu01_8nodes_channel4_chunk128.xml
c196-101:651:697 [0] NCCL INFO MSCCL: Parsing algorithm /home1/09168/ldai1/ccl-build/msccl_tools_lyd/examples/xml/allreduce_binary_tree_p_gpu01_8nodes_channel4_chunk128.xml
c196-101:651:697 [0] NCCL INFO Parsed MSCCL Algorithm /home1/09168/ldai1/ccl-build/msccl_tools_lyd/examples/xml/allreduce_binary_tree_p_gpu01_8nodes_channel4_chunk128.xml successfully.
c196-101:651:697 [0] NCCL INFO Channel 02/0 : 0[2000] -> 4[2000] [send] via NET/IB/0
c196-101:651:697 [0] NCCL INFO Channel 01/0 : 16[2000] -> 0[2000] [receive] via NET/IB/0
c196-101:651:697 [0] NCCL INFO Channel 01/0 : 0[2000] -> 16[2000] [send] via NET/IB/0
c196-101:651:697 [0] NCCL INFO Channel 02/0 : 4[2000] -> 0[2000] [receive] via NET/IB/0
c196-101:651:697 [0] NCCL INFO Connected 1 MSCCL algorithms
c196-101:651:697 [0] NCCL INFO NCCL_NTHREADS set by environment to 256.
c196-101:651:697 [0] NCCL INFO NCCL_PROTO set by environment to Simple
c196-101:651:697 [0] NCCL INFO NCCL_ALGO set by environment to MSCCL,TREE,RING
c196-101:651:697 [0] NCCL INFO threadThresholds 8/8/64 | 256/8/64 | 8/8/64 | 8/8/512
c196-101:651:697 [0] NCCL INFO 4 coll channels, 4 p2p channels, 2 p2p channels per peer
c196-101:651:697 [0] NCCL INFO comm 0x2b60ce000010 rank 0 nranks 32 cudaDev 0 busId 2000 - Init COMPLETE
#
#                                                              out-of-place                       in-place          
#       size         count      type   redop    root     time   algbw   busbw #wrong     time   algbw   busbw #wrong
#        (B)    (elements)                               (us)  (GB/s)  (GB/s)            (us)  (GB/s)  (GB/s)       
c196-101:651:651 [0] NCCL INFO Launch mode Parallel
       32768          8192     float     sum      -1   1262.4    0.03    0.05  262144   1265.3    0.03    0.05      0
       65536         16384     float     sum      -1   1257.1    0.05    0.10  524288   1259.7    0.05    0.10      0
      131072         32768     float     sum      -1   1263.1    0.10    0.20  1.04858e+06   1282.9    0.10    0.20      0
      262144         65536     float     sum      -1   1257.7    0.21    0.40  2.09715e+06   1260.1    0.21    0.40      0
      524288        131072     float     sum      -1   1294.7    0.40    0.78  4.1943e+06   1292.9    0.41    0.79      0
     1048576        262144     float     sum      -1   1354.8    0.77    1.50  8.38861e+06   1352.5    0.78    1.50      0
     2097152        524288     float     sum      -1   1454.4    1.44    2.79  1.67772e+07   1457.1    1.44    2.79      0
     4194304       1048576     float     sum      -1   2286.3    1.83    3.55  3.35544e+07   2373.0    1.77    3.42      0
     8388608       2097152     float     sum      -1   4252.7    1.97    3.82  6.71089e+07   4238.8    1.98    3.83      0
    16777216       4194304     float     sum      -1   8377.2    2.00    3.88  1.34218e+08   8384.0    2.00    3.88      0
    33554432       8388608     float     sum      -1    16927    1.98    3.84  2.68435e+08    16953    1.98    3.83      0
    67108864      16777216     float     sum      -1    34546    1.94    3.76  5.36871e+08    34570    1.94    3.76      0
   134217728      33554432     float     sum      -1    70545    1.90    3.69  1.07374e+09    70326    1.91    3.70      0
   268435456      67108864     float     sum      -1   143284    1.87    3.63  2.14748e+09   143312    1.87    3.63      0
   536870912     134217728     float     sum      -1   285245    1.88    3.65  4.29497e+09   285666    1.88    3.64      0
c196-101:651:651 [0] NCCL INFO comm 0x2b60ce000010 rank 0 nranks 32 cudaDev 0 busId 2000 - Destroy COMPLETE
# Out of bounds values : 480 FAILED
# Avg bus bandwidth    : 2.37288 
#

