NCCL TEST with MSCCL 1 channel 2gpus 128 steps
# nThread 1 nGpus 1 minBytes 1024 maxBytes 268435456 step: 2(factor) warmup iters: 5 iters: 60 agg iters: 1 validation: 1 graph: 0
#
# Using devices
#  Rank  0 Group  0 Pid   8464 on x3006c0s25b0n0 device  0 [0x07] NVIDIA A100-SXM4-40GB
#  Rank  1 Group  0 Pid  26667 on x3006c0s31b0n0 device  0 [0x07] NVIDIA A100-SXM4-40GB
x3006c0s25b0n0:8464:8464 [0] NCCL INFO NCCL_SOCKET_IFNAME set by environment to hsn0,hsn1
x3006c0s25b0n0:8464:8464 [0] NCCL INFO Bootstrap : Using hsn1:10.201.2.19<0>
x3006c0s25b0n0:8464:8464 [0] NCCL INFO NET/Plugin: Failed to find ncclCollNetPlugin_v5 symbol.
x3006c0s25b0n0:8464:8464 [0] NCCL INFO NET/Plugin: Failed to find ncclCollNetPlugin_v4 symbol.
x3006c0s25b0n0:8464:8464 [0] NCCL INFO NET/OFI Initializing aws-ofi-nccl 1.7.4-aws
x3006c0s25b0n0:8464:8464 [0] NCCL INFO NET/OFI Using CUDA runtime version 11080
x3006c0s25b0n0:8464:8464 [0] NCCL INFO NET/OFI Selected Provider is cxi (found 4 nics)
x3006c0s25b0n0:8464:8464 [0] NCCL INFO NET/OFI Using transport protocol SENDRECV
x3006c0s25b0n0:8464:8464 [0] NCCL INFO Using network AWS Libfabric
NCCL version 2.12.12.MSCCL.0.7.4+cuda11.8
x3006c0s31b0n0:26667:26667 [0] NCCL INFO NCCL_SOCKET_IFNAME set by environment to hsn0,hsn1
x3006c0s31b0n0:26667:26667 [0] NCCL INFO Bootstrap : Using hsn1:10.201.2.24<0>
x3006c0s31b0n0:26667:26667 [0] NCCL INFO NET/Plugin: Failed to find ncclCollNetPlugin_v5 symbol.
x3006c0s31b0n0:26667:26667 [0] NCCL INFO NET/Plugin: Failed to find ncclCollNetPlugin_v4 symbol.
x3006c0s31b0n0:26667:26667 [0] NCCL INFO NET/OFI Initializing aws-ofi-nccl 1.7.4-aws
x3006c0s31b0n0:26667:26667 [0] NCCL INFO NET/OFI Using CUDA runtime version 11080
x3006c0s31b0n0:26667:26667 [0] NCCL INFO NET/OFI Selected Provider is cxi (found 4 nics)
x3006c0s31b0n0:26667:26667 [0] NCCL INFO NET/OFI Using transport protocol SENDRECV
x3006c0s31b0n0:26667:26667 [0] NCCL INFO Using network AWS Libfabric
x3006c0s25b0n0:8464:8478 [0] NCCL INFO Channel 00/02 :    0   1
x3006c0s25b0n0:8464:8478 [0] NCCL INFO Channel 01/02 :    0   1
x3006c0s25b0n0:8464:8478 [0] NCCL INFO Trees [0] 1/-1/-1->0->-1 [1] -1/-1/-1->0->1
x3006c0s31b0n0:26667:26679 [0] NCCL INFO Trees [0] -1/-1/-1->1->0 [1] 0/-1/-1->1->-1
x3006c0s31b0n0:26667:26679 [0] NCCL INFO Channel 00/0 : 0[7000] -> 1[7000] [receive] via NET/AWS Libfabric/1
x3006c0s25b0n0:8464:8478 [0] NCCL INFO Channel 00/0 : 1[7000] -> 0[7000] [receive] via NET/AWS Libfabric/1
x3006c0s31b0n0:26667:26679 [0] NCCL INFO Channel 01/0 : 0[7000] -> 1[7000] [receive] via NET/AWS Libfabric/1
x3006c0s25b0n0:8464:8478 [0] NCCL INFO Channel 01/0 : 1[7000] -> 0[7000] [receive] via NET/AWS Libfabric/1
x3006c0s31b0n0:26667:26679 [0] NCCL INFO Channel 00/0 : 1[7000] -> 0[7000] [send] via NET/AWS Libfabric/1
x3006c0s25b0n0:8464:8478 [0] NCCL INFO Channel 00/0 : 0[7000] -> 1[7000] [send] via NET/AWS Libfabric/1
x3006c0s31b0n0:26667:26679 [0] NCCL INFO Channel 01/0 : 1[7000] -> 0[7000] [send] via NET/AWS Libfabric/1
x3006c0s25b0n0:8464:8478 [0] NCCL INFO Channel 01/0 : 0[7000] -> 1[7000] [send] via NET/AWS Libfabric/1
x3006c0s31b0n0:26667:26679 [0] NCCL INFO Connected all rings
x3006c0s31b0n0:26667:26679 [0] NCCL INFO Connected all trees
x3006c0s31b0n0:26667:26679 [0] NCCL INFO MSCCL_XML_FILES set by environment to /home/yuke/ncclPG/CCL-LYD/msccl_tools_lyd/examples/xml/xml_lyd/binary_h_gpu01_reverse_p/allreduce_binary_tree_p_gpu01_2nodes_2gpus_channel2_reverse_chunk2.xml
x3006c0s31b0n0:26667:26679 [0] NCCL INFO MSCCL: Parsing algorithm /home/yuke/ncclPG/CCL-LYD/msccl_tools_lyd/examples/xml/xml_lyd/binary_h_gpu01_reverse_p/allreduce_binary_tree_p_gpu01_2nodes_2gpus_channel2_reverse_chunk2.xml
x3006c0s31b0n0:26667:26679 [0] NCCL INFO Parsed MSCCL Algorithm /home/yuke/ncclPG/CCL-LYD/msccl_tools_lyd/examples/xml/xml_lyd/binary_h_gpu01_reverse_p/allreduce_binary_tree_p_gpu01_2nodes_2gpus_channel2_reverse_chunk2.xml successfully.
x3006c0s31b0n0:26667:26679 [0] NCCL INFO Connected 1 MSCCL algorithms
x3006c0s31b0n0:26667:26679 [0] NCCL INFO NCCL_NTHREADS set by environment to 64.
x3006c0s31b0n0:26667:26679 [0] NCCL INFO NCCL_PROTO set by environment to Simple
x3006c0s31b0n0:26667:26679 [0] NCCL INFO NCCL_ALGO set by environment to MSCCL,TREE,RING
x3006c0s31b0n0:26667:26679 [0] NCCL INFO threadThresholds 8/8/64 | 16/8/64 | 8/8/64 | 8/8/512
x3006c0s31b0n0:26667:26679 [0] NCCL INFO 2 coll channels, 2 p2p channels, 2 p2p channels per peer
x3006c0s25b0n0:8464:8478 [0] NCCL INFO Connected all rings
x3006c0s25b0n0:8464:8478 [0] NCCL INFO Connected all trees
x3006c0s25b0n0:8464:8478 [0] NCCL INFO MSCCL_XML_FILES set by environment to /home/yuke/ncclPG/CCL-LYD/msccl_tools_lyd/examples/xml/xml_lyd/binary_h_gpu01_reverse_p/allreduce_binary_tree_p_gpu01_2nodes_2gpus_channel2_reverse_chunk2.xml
x3006c0s25b0n0:8464:8478 [0] NCCL INFO MSCCL: Parsing algorithm /home/yuke/ncclPG/CCL-LYD/msccl_tools_lyd/examples/xml/xml_lyd/binary_h_gpu01_reverse_p/allreduce_binary_tree_p_gpu01_2nodes_2gpus_channel2_reverse_chunk2.xml
x3006c0s25b0n0:8464:8478 [0] NCCL INFO Parsed MSCCL Algorithm /home/yuke/ncclPG/CCL-LYD/msccl_tools_lyd/examples/xml/xml_lyd/binary_h_gpu01_reverse_p/allreduce_binary_tree_p_gpu01_2nodes_2gpus_channel2_reverse_chunk2.xml successfully.
x3006c0s25b0n0:8464:8478 [0] NCCL INFO Connected 1 MSCCL algorithms
x3006c0s25b0n0:8464:8478 [0] NCCL INFO NCCL_NTHREADS set by environment to 64.
x3006c0s25b0n0:8464:8478 [0] NCCL INFO NCCL_PROTO set by environment to Simple
x3006c0s25b0n0:8464:8478 [0] NCCL INFO NCCL_ALGO set by environment to MSCCL,TREE,RING
x3006c0s25b0n0:8464:8478 [0] NCCL INFO threadThresholds 8/8/64 | 16/8/64 | 8/8/64 | 8/8/512
x3006c0s25b0n0:8464:8478 [0] NCCL INFO 2 coll channels, 2 p2p channels, 2 p2p channels per peer
x3006c0s31b0n0:26667:26679 [0] NCCL INFO comm 0x150a0045a010 rank 1 nranks 2 cudaDev 0 busId 7000 - Init COMPLETE
x3006c0s25b0n0:8464:8478 [0] NCCL INFO comm 0x145d4d0d6010 rank 0 nranks 2 cudaDev 0 busId 7000 - Init COMPLETE
#
#                                                              out-of-place                       in-place          
#       size         count      type   redop    root     time   algbw   busbw #wrong     time   algbw   busbw #wrong
#        (B)    (elements)                               (us)  (GB/s)  (GB/s)            (us)  (GB/s)  (GB/s)       
x3006c0s25b0n0:8464:8464 [0] NCCL INFO Launch mode Parallel
        1024           256     float     sum      -1    38.20    0.03    0.03    512    38.00    0.03    0.03      0
        2048           512     float     sum      -1    37.70    0.05    0.05   1024    38.09    0.05    0.05      0
        4096          1024     float     sum      -1    40.97    0.10    0.10   2048    40.91    0.10    0.10      0
        8192          2048     float     sum      -1    40.78    0.20    0.20   4096    40.84    0.20    0.20      0
       16384          4096     float     sum      -1    44.51    0.37    0.37   8192    42.30    0.39    0.39      0
       32768          8192     float     sum      -1    49.65    0.66    0.66  16384    49.45    0.66    0.66      0
       65536         16384     float     sum      -1    67.96    0.96    0.96  32768    67.87    0.97    0.97      0
      131072         32768     float     sum      -1    86.65    1.51    1.51  65536    86.60    1.51    1.51      0
      262144         65536     float     sum      -1    129.6    2.02    2.02  131072    130.0    2.02    2.02      0
      524288        131072     float     sum      -1    217.6    2.41    2.41  262144    217.3    2.41    2.41      0
     1048576        262144     float     sum      -1    390.3    2.69    2.69  524288    390.5    2.68    2.68      0
     2097152        524288     float     sum      -1    735.1    2.85    2.85  1.04858e+06    734.4    2.86    2.86      0
     4194304       1048576     float     sum      -1   1423.2    2.95    2.95  2.09715e+06   1422.6    2.95    2.95      0
     8388608       2097152     float     sum      -1   2464.7    3.40    3.40  4.1943e+06   2465.8    3.40    3.40      0
    16777216       4194304     float     sum      -1   4574.0    3.67    3.67  8.38861e+06   4574.1    3.67    3.67      0
    33554432       8388608     float     sum      -1   8812.4    3.81    3.81  1.67772e+07   8811.5    3.81    3.81      0
    67108864      16777216     float     sum      -1    17265    3.89    3.89  3.35544e+07    17251    3.89    3.89      0
   134217728      33554432     float     sum      -1    34151    3.93    3.93  6.71088e+07    34114    3.93    3.93      0
   268435456      67108864     float     sum      -1    67829    3.96    3.96  1.34218e+08    67821    3.96    3.96      0
x3006c0s25b0n0:8464:8464 [0] NCCL INFO comm 0x145d4d0d6010 rank 0 nranks 2 cudaDev 0 busId 7000 - Destroy COMPLETE
x3006c0s31b0n0:26667:26667 [0] NCCL INFO comm 0x150a0045a010 rank 1 nranks 2 cudaDev 0 busId 7000 - Destroy COMPLETE
# Out of bounds values : 38 FAILED
# Avg bus bandwidth    : 2.07762 
#

# nThread 1 nGpus 1 minBytes 1024 maxBytes 268435456 step: 2(factor) warmup iters: 5 iters: 60 agg iters: 1 validation: 1 graph: 0
#
# Using devices
#  Rank  0 Group  0 Pid   8489 on x3006c0s25b0n0 device  0 [0x07] NVIDIA A100-SXM4-40GB
#  Rank  1 Group  0 Pid  26688 on x3006c0s31b0n0 device  0 [0x07] NVIDIA A100-SXM4-40GB
x3006c0s25b0n0:8489:8489 [0] NCCL INFO NCCL_SOCKET_IFNAME set by environment to hsn0,hsn1
x3006c0s25b0n0:8489:8489 [0] NCCL INFO Bootstrap : Using hsn1:10.201.2.19<0>
x3006c0s25b0n0:8489:8489 [0] NCCL INFO NET/Plugin: Failed to find ncclCollNetPlugin_v5 symbol.
x3006c0s25b0n0:8489:8489 [0] NCCL INFO NET/Plugin: Failed to find ncclCollNetPlugin_v4 symbol.
x3006c0s25b0n0:8489:8489 [0] NCCL INFO NET/OFI Initializing aws-ofi-nccl 1.7.4-aws
x3006c0s25b0n0:8489:8489 [0] NCCL INFO NET/OFI Using CUDA runtime version 11080
x3006c0s25b0n0:8489:8489 [0] NCCL INFO NET/OFI Selected Provider is cxi (found 4 nics)
x3006c0s25b0n0:8489:8489 [0] NCCL INFO NET/OFI Using transport protocol SENDRECV
x3006c0s25b0n0:8489:8489 [0] NCCL INFO Using network AWS Libfabric
NCCL version 2.12.12.MSCCL.0.7.4+cuda11.8
x3006c0s31b0n0:26688:26688 [0] NCCL INFO NCCL_SOCKET_IFNAME set by environment to hsn0,hsn1
x3006c0s31b0n0:26688:26688 [0] NCCL INFO Bootstrap : Using hsn1:10.201.2.24<0>
x3006c0s31b0n0:26688:26688 [0] NCCL INFO NET/Plugin: Failed to find ncclCollNetPlugin_v5 symbol.
x3006c0s31b0n0:26688:26688 [0] NCCL INFO NET/Plugin: Failed to find ncclCollNetPlugin_v4 symbol.
x3006c0s31b0n0:26688:26688 [0] NCCL INFO NET/OFI Initializing aws-ofi-nccl 1.7.4-aws
x3006c0s31b0n0:26688:26688 [0] NCCL INFO NET/OFI Using CUDA runtime version 11080
x3006c0s31b0n0:26688:26688 [0] NCCL INFO NET/OFI Selected Provider is cxi (found 4 nics)
x3006c0s31b0n0:26688:26688 [0] NCCL INFO NET/OFI Using transport protocol SENDRECV
x3006c0s31b0n0:26688:26688 [0] NCCL INFO Using network AWS Libfabric
x3006c0s25b0n0:8489:8540 [0] NCCL INFO Channel 00/02 :    0   1
x3006c0s25b0n0:8489:8540 [0] NCCL INFO Channel 01/02 :    0   1
x3006c0s25b0n0:8489:8540 [0] NCCL INFO Trees [0] 1/-1/-1->0->-1 [1] -1/-1/-1->0->1
x3006c0s31b0n0:26688:26736 [0] NCCL INFO Trees [0] -1/-1/-1->1->0 [1] 0/-1/-1->1->-1
x3006c0s31b0n0:26688:26736 [0] NCCL INFO Channel 00/0 : 0[7000] -> 1[7000] [receive] via NET/AWS Libfabric/1
x3006c0s25b0n0:8489:8540 [0] NCCL INFO Channel 00/0 : 1[7000] -> 0[7000] [receive] via NET/AWS Libfabric/1
x3006c0s31b0n0:26688:26736 [0] NCCL INFO Channel 01/0 : 0[7000] -> 1[7000] [receive] via NET/AWS Libfabric/1
x3006c0s25b0n0:8489:8540 [0] NCCL INFO Channel 01/0 : 1[7000] -> 0[7000] [receive] via NET/AWS Libfabric/1
x3006c0s31b0n0:26688:26736 [0] NCCL INFO Channel 00/0 : 1[7000] -> 0[7000] [send] via NET/AWS Libfabric/1
x3006c0s25b0n0:8489:8540 [0] NCCL INFO Channel 00/0 : 0[7000] -> 1[7000] [send] via NET/AWS Libfabric/1
x3006c0s31b0n0:26688:26736 [0] NCCL INFO Channel 01/0 : 1[7000] -> 0[7000] [send] via NET/AWS Libfabric/1
x3006c0s25b0n0:8489:8540 [0] NCCL INFO Channel 01/0 : 0[7000] -> 1[7000] [send] via NET/AWS Libfabric/1
x3006c0s31b0n0:26688:26736 [0] NCCL INFO Connected all rings
x3006c0s31b0n0:26688:26736 [0] NCCL INFO Connected all trees
x3006c0s31b0n0:26688:26736 [0] NCCL INFO MSCCL_XML_FILES set by environment to /home/yuke/ncclPG/CCL-LYD/msccl_tools_lyd/examples/xml/xml_lyd/binary_h_gpu01_reverse_p/allreduce_binary_tree_p_gpu01_2nodes_2gpus_channel2_reverse_chunk2.xml
x3006c0s31b0n0:26688:26736 [0] NCCL INFO MSCCL: Parsing algorithm /home/yuke/ncclPG/CCL-LYD/msccl_tools_lyd/examples/xml/xml_lyd/binary_h_gpu01_reverse_p/allreduce_binary_tree_p_gpu01_2nodes_2gpus_channel2_reverse_chunk2.xml
x3006c0s31b0n0:26688:26736 [0] NCCL INFO Parsed MSCCL Algorithm /home/yuke/ncclPG/CCL-LYD/msccl_tools_lyd/examples/xml/xml_lyd/binary_h_gpu01_reverse_p/allreduce_binary_tree_p_gpu01_2nodes_2gpus_channel2_reverse_chunk2.xml successfully.
x3006c0s31b0n0:26688:26736 [0] NCCL INFO Connected 1 MSCCL algorithms
x3006c0s31b0n0:26688:26736 [0] NCCL INFO NCCL_NTHREADS set by environment to 128.
x3006c0s31b0n0:26688:26736 [0] NCCL INFO NCCL_PROTO set by environment to Simple
x3006c0s31b0n0:26688:26736 [0] NCCL INFO NCCL_ALGO set by environment to MSCCL,TREE,RING
x3006c0s31b0n0:26688:26736 [0] NCCL INFO threadThresholds 8/8/64 | 16/8/64 | 8/8/64 | 8/8/512
x3006c0s31b0n0:26688:26736 [0] NCCL INFO 2 coll channels, 2 p2p channels, 2 p2p channels per peer
x3006c0s31b0n0:26688:26736 [0] NCCL INFO comm 0x147d7645a010 rank 1 nranks 2 cudaDev 0 busId 7000 - Init COMPLETE
x3006c0s25b0n0:8489:8540 [0] NCCL INFO Connected all rings
x3006c0s25b0n0:8489:8540 [0] NCCL INFO Connected all trees
x3006c0s25b0n0:8489:8540 [0] NCCL INFO MSCCL_XML_FILES set by environment to /home/yuke/ncclPG/CCL-LYD/msccl_tools_lyd/examples/xml/xml_lyd/binary_h_gpu01_reverse_p/allreduce_binary_tree_p_gpu01_2nodes_2gpus_channel2_reverse_chunk2.xml
x3006c0s25b0n0:8489:8540 [0] NCCL INFO MSCCL: Parsing algorithm /home/yuke/ncclPG/CCL-LYD/msccl_tools_lyd/examples/xml/xml_lyd/binary_h_gpu01_reverse_p/allreduce_binary_tree_p_gpu01_2nodes_2gpus_channel2_reverse_chunk2.xml
x3006c0s25b0n0:8489:8540 [0] NCCL INFO Parsed MSCCL Algorithm /home/yuke/ncclPG/CCL-LYD/msccl_tools_lyd/examples/xml/xml_lyd/binary_h_gpu01_reverse_p/allreduce_binary_tree_p_gpu01_2nodes_2gpus_channel2_reverse_chunk2.xml successfully.
x3006c0s25b0n0:8489:8540 [0] NCCL INFO Connected 1 MSCCL algorithms
x3006c0s25b0n0:8489:8540 [0] NCCL INFO NCCL_NTHREADS set by environment to 128.
x3006c0s25b0n0:8489:8540 [0] NCCL INFO NCCL_PROTO set by environment to Simple
x3006c0s25b0n0:8489:8540 [0] NCCL INFO NCCL_ALGO set by environment to MSCCL,TREE,RING
x3006c0s25b0n0:8489:8540 [0] NCCL INFO threadThresholds 8/8/64 | 16/8/64 | 8/8/64 | 8/8/512
x3006c0s25b0n0:8489:8540 [0] NCCL INFO 2 coll channels, 2 p2p channels, 2 p2p channels per peer
x3006c0s25b0n0:8489:8540 [0] NCCL INFO comm 0x14b98c45a010 rank 0 nranks 2 cudaDev 0 busId 7000 - Init COMPLETE
#
#                                                              out-of-place                       in-place          
#       size         count      type   redop    root     time   algbw   busbw #wrong     time   algbw   busbw #wrong
#        (B)    (elements)                               (us)  (GB/s)  (GB/s)            (us)  (GB/s)  (GB/s)       
x3006c0s25b0n0:8489:8489 [0] NCCL INFO Launch mode Parallel
        1024           256     float     sum      -1    42.95    0.02    0.02    512    43.04    0.02    0.02      0
        2048           512     float     sum      -1    43.38    0.05    0.05   1024    43.20    0.05    0.05      0
        4096          1024     float     sum      -1    43.70    0.09    0.09   2048    43.70    0.09    0.09      0
        8192          2048     float     sum      -1    45.92    0.18    0.18   4096    45.96    0.18    0.18      0
       16384          4096     float     sum      -1    47.71    0.34    0.34   8192    47.91    0.34    0.34      0
       32768          8192     float     sum      -1    50.43    0.65    0.65  16384    50.31    0.65    0.65      0
       65536         16384     float     sum      -1    64.66    1.01    1.01  32768    64.56    1.02    1.02      0
      131072         32768     float     sum      -1    72.17    1.82    1.82  65536    71.46    1.83    1.83      0
      262144         65536     float     sum      -1    97.86    2.68    2.68  131072    97.76    2.68    2.68      0
      524288        131072     float     sum      -1    148.1    3.54    3.54  262144    147.9    3.54    3.54      0
     1048576        262144     float     sum      -1    248.4    4.22    4.22  524288    250.4    4.19    4.19      0
     2097152        524288     float     sum      -1    453.2    4.63    4.63  1.04858e+06    454.1    4.62    4.62      0
     4194304       1048576     float     sum      -1    862.7    4.86    4.86  2.09715e+06    861.7    4.87    4.87      0
     8388608       2097152     float     sum      -1   1510.9    5.55    5.55  4.1943e+06   1507.3    5.57    5.57      0
    16777216       4194304     float     sum      -1   2718.6    6.17    6.17  8.38861e+06   2729.7    6.15    6.15      0
    33554432       8388608     float     sum      -1   5202.2    6.45    6.45  1.67772e+07   5235.3    6.41    6.41      0
    67108864      16777216     float     sum      -1    10241    6.55    6.55  3.35544e+07    10180    6.59    6.59      0
   134217728      33554432     float     sum      -1    20235    6.63    6.63  6.71088e+07    20180    6.65    6.65      0
   268435456      67108864     float     sum      -1    40295    6.66    6.66  1.34218e+08    40276    6.66    6.66      0
x3006c0s25b0n0:8489:8489 [0] NCCL INFO comm 0x14b98c45a010 rank 0 nranks 2 cudaDev 0 busId 7000 - Destroy COMPLETE
x3006c0s31b0n0:26688:26688 [0] NCCL INFO comm 0x147d7645a010 rank 1 nranks 2 cudaDev 0 busId 7000 - Destroy COMPLETE
# Out of bounds values : 38 FAILED
# Avg bus bandwidth    : 3.2692 
#

# nThread 1 nGpus 1 minBytes 1024 maxBytes 268435456 step: 2(factor) warmup iters: 5 iters: 60 agg iters: 1 validation: 1 graph: 0
#
# Using devices
#  Rank  0 Group  0 Pid   8558 on x3006c0s25b0n0 device  0 [0x07] NVIDIA A100-SXM4-40GB
#  Rank  1 Group  0 Pid  26757 on x3006c0s31b0n0 device  0 [0x07] NVIDIA A100-SXM4-40GB
x3006c0s25b0n0:8558:8558 [0] NCCL INFO NCCL_SOCKET_IFNAME set by environment to hsn0,hsn1
x3006c0s25b0n0:8558:8558 [0] NCCL INFO Bootstrap : Using hsn1:10.201.2.19<0>
x3006c0s25b0n0:8558:8558 [0] NCCL INFO NET/Plugin: Failed to find ncclCollNetPlugin_v5 symbol.
x3006c0s25b0n0:8558:8558 [0] NCCL INFO NET/Plugin: Failed to find ncclCollNetPlugin_v4 symbol.
x3006c0s25b0n0:8558:8558 [0] NCCL INFO NET/OFI Initializing aws-ofi-nccl 1.7.4-aws
x3006c0s25b0n0:8558:8558 [0] NCCL INFO NET/OFI Using CUDA runtime version 11080
x3006c0s25b0n0:8558:8558 [0] NCCL INFO NET/OFI Selected Provider is cxi (found 4 nics)
x3006c0s25b0n0:8558:8558 [0] NCCL INFO NET/OFI Using transport protocol SENDRECV
x3006c0s25b0n0:8558:8558 [0] NCCL INFO Using network AWS Libfabric
NCCL version 2.12.12.MSCCL.0.7.4+cuda11.8
x3006c0s31b0n0:26757:26757 [0] NCCL INFO NCCL_SOCKET_IFNAME set by environment to hsn0,hsn1
x3006c0s31b0n0:26757:26757 [0] NCCL INFO Bootstrap : Using hsn1:10.201.2.24<0>
x3006c0s31b0n0:26757:26757 [0] NCCL INFO NET/Plugin: Failed to find ncclCollNetPlugin_v5 symbol.
x3006c0s31b0n0:26757:26757 [0] NCCL INFO NET/Plugin: Failed to find ncclCollNetPlugin_v4 symbol.
x3006c0s31b0n0:26757:26757 [0] NCCL INFO NET/OFI Initializing aws-ofi-nccl 1.7.4-aws
x3006c0s31b0n0:26757:26757 [0] NCCL INFO NET/OFI Using CUDA runtime version 11080
x3006c0s31b0n0:26757:26757 [0] NCCL INFO NET/OFI Selected Provider is cxi (found 4 nics)
x3006c0s31b0n0:26757:26757 [0] NCCL INFO NET/OFI Using transport protocol SENDRECV
x3006c0s31b0n0:26757:26757 [0] NCCL INFO Using network AWS Libfabric
x3006c0s25b0n0:8558:8574 [0] NCCL INFO Channel 00/02 :    0   1
x3006c0s25b0n0:8558:8574 [0] NCCL INFO Channel 01/02 :    0   1
x3006c0s25b0n0:8558:8574 [0] NCCL INFO Trees [0] 1/-1/-1->0->-1 [1] -1/-1/-1->0->1
x3006c0s31b0n0:26757:26772 [0] NCCL INFO Trees [0] -1/-1/-1->1->0 [1] 0/-1/-1->1->-1
x3006c0s31b0n0:26757:26772 [0] NCCL INFO Channel 00/0 : 0[7000] -> 1[7000] [receive] via NET/AWS Libfabric/1
x3006c0s25b0n0:8558:8574 [0] NCCL INFO Channel 00/0 : 1[7000] -> 0[7000] [receive] via NET/AWS Libfabric/1
x3006c0s31b0n0:26757:26772 [0] NCCL INFO Channel 01/0 : 0[7000] -> 1[7000] [receive] via NET/AWS Libfabric/1
x3006c0s25b0n0:8558:8574 [0] NCCL INFO Channel 01/0 : 1[7000] -> 0[7000] [receive] via NET/AWS Libfabric/1
x3006c0s25b0n0:8558:8574 [0] NCCL INFO Channel 00/0 : 0[7000] -> 1[7000] [send] via NET/AWS Libfabric/1
x3006c0s31b0n0:26757:26772 [0] NCCL INFO Channel 00/0 : 1[7000] -> 0[7000] [send] via NET/AWS Libfabric/1
x3006c0s25b0n0:8558:8574 [0] NCCL INFO Channel 01/0 : 0[7000] -> 1[7000] [send] via NET/AWS Libfabric/1
x3006c0s31b0n0:26757:26772 [0] NCCL INFO Channel 01/0 : 1[7000] -> 0[7000] [send] via NET/AWS Libfabric/1
x3006c0s31b0n0:26757:26772 [0] NCCL INFO Connected all rings
x3006c0s31b0n0:26757:26772 [0] NCCL INFO Connected all trees
x3006c0s31b0n0:26757:26772 [0] NCCL INFO MSCCL_XML_FILES set by environment to /home/yuke/ncclPG/CCL-LYD/msccl_tools_lyd/examples/xml/xml_lyd/binary_h_gpu01_reverse_p/allreduce_binary_tree_p_gpu01_2nodes_2gpus_channel2_reverse_chunk2.xml
x3006c0s31b0n0:26757:26772 [0] NCCL INFO MSCCL: Parsing algorithm /home/yuke/ncclPG/CCL-LYD/msccl_tools_lyd/examples/xml/xml_lyd/binary_h_gpu01_reverse_p/allreduce_binary_tree_p_gpu01_2nodes_2gpus_channel2_reverse_chunk2.xml
x3006c0s31b0n0:26757:26772 [0] NCCL INFO Parsed MSCCL Algorithm /home/yuke/ncclPG/CCL-LYD/msccl_tools_lyd/examples/xml/xml_lyd/binary_h_gpu01_reverse_p/allreduce_binary_tree_p_gpu01_2nodes_2gpus_channel2_reverse_chunk2.xml successfully.
x3006c0s31b0n0:26757:26772 [0] NCCL INFO Connected 1 MSCCL algorithms
x3006c0s31b0n0:26757:26772 [0] NCCL INFO NCCL_NTHREADS set by environment to 256.
x3006c0s31b0n0:26757:26772 [0] NCCL INFO NCCL_PROTO set by environment to Simple
x3006c0s31b0n0:26757:26772 [0] NCCL INFO NCCL_ALGO set by environment to MSCCL,TREE,RING
x3006c0s31b0n0:26757:26772 [0] NCCL INFO threadThresholds 8/8/64 | 16/8/64 | 8/8/64 | 8/8/512
x3006c0s31b0n0:26757:26772 [0] NCCL INFO 2 coll channels, 2 p2p channels, 2 p2p channels per peer
x3006c0s25b0n0:8558:8574 [0] NCCL INFO Connected all rings
x3006c0s25b0n0:8558:8574 [0] NCCL INFO Connected all trees
x3006c0s25b0n0:8558:8574 [0] NCCL INFO MSCCL_XML_FILES set by environment to /home/yuke/ncclPG/CCL-LYD/msccl_tools_lyd/examples/xml/xml_lyd/binary_h_gpu01_reverse_p/allreduce_binary_tree_p_gpu01_2nodes_2gpus_channel2_reverse_chunk2.xml
x3006c0s25b0n0:8558:8574 [0] NCCL INFO MSCCL: Parsing algorithm /home/yuke/ncclPG/CCL-LYD/msccl_tools_lyd/examples/xml/xml_lyd/binary_h_gpu01_reverse_p/allreduce_binary_tree_p_gpu01_2nodes_2gpus_channel2_reverse_chunk2.xml
x3006c0s25b0n0:8558:8574 [0] NCCL INFO Parsed MSCCL Algorithm /home/yuke/ncclPG/CCL-LYD/msccl_tools_lyd/examples/xml/xml_lyd/binary_h_gpu01_reverse_p/allreduce_binary_tree_p_gpu01_2nodes_2gpus_channel2_reverse_chunk2.xml successfully.
x3006c0s25b0n0:8558:8574 [0] NCCL INFO Connected 1 MSCCL algorithms
x3006c0s25b0n0:8558:8574 [0] NCCL INFO NCCL_NTHREADS set by environment to 256.
x3006c0s25b0n0:8558:8574 [0] NCCL INFO NCCL_PROTO set by environment to Simple
x3006c0s25b0n0:8558:8574 [0] NCCL INFO NCCL_ALGO set by environment to MSCCL,TREE,RING
x3006c0s25b0n0:8558:8574 [0] NCCL INFO threadThresholds 8/8/64 | 16/8/64 | 8/8/64 | 8/8/512
x3006c0s25b0n0:8558:8574 [0] NCCL INFO 2 coll channels, 2 p2p channels, 2 p2p channels per peer
x3006c0s31b0n0:26757:26772 [0] NCCL INFO comm 0x149f5845a010 rank 1 nranks 2 cudaDev 0 busId 7000 - Init COMPLETE
x3006c0s25b0n0:8558:8574 [0] NCCL INFO comm 0x14b98a45a010 rank 0 nranks 2 cudaDev 0 busId 7000 - Init COMPLETE
#
#                                                              out-of-place                       in-place          
#       size         count      type   redop    root     time   algbw   busbw #wrong     time   algbw   busbw #wrong
#        (B)    (elements)                               (us)  (GB/s)  (GB/s)            (us)  (GB/s)  (GB/s)       
x3006c0s25b0n0:8558:8558 [0] NCCL INFO Launch mode Parallel
        1024           256     float     sum      -1    45.09    0.02    0.02    512    45.18    0.02    0.02      0
        2048           512     float     sum      -1    45.15    0.05    0.05   1024    45.42    0.05    0.05      0
        4096          1024     float     sum      -1    45.37    0.09    0.09   2048    45.44    0.09    0.09      0
        8192          2048     float     sum      -1    48.31    0.17    0.17   4096    47.96    0.17    0.17      0
       16384          4096     float     sum      -1    49.14    0.33    0.33   8192    48.95    0.33    0.33      0
       32768          8192     float     sum      -1    50.55    0.65    0.65  16384    51.18    0.64    0.64      0
       65536         16384     float     sum      -1    59.41    1.10    1.10  32768    59.77    1.10    1.10      0
      131072         32768     float     sum      -1    68.62    1.91    1.91  65536    70.28    1.86    1.86      0
      262144         65536     float     sum      -1    86.17    3.04    3.04  131072    82.65    3.17    3.17      0
      524288        131072     float     sum      -1    115.0    4.56    4.56  262144    112.1    4.68    4.68      0
     1048576        262144     float     sum      -1    182.2    5.75    5.75  524288    184.3    5.69    5.69      0
     2097152        524288     float     sum      -1    316.4    6.63    6.63  1.04858e+06    318.6    6.58    6.58      0
     4194304       1048576     float     sum      -1    590.4    7.10    7.10  2.09715e+06    591.1    7.10    7.10      0
     8388608       2097152     float     sum      -1   1022.6    8.20    8.20  4.1943e+06   1029.9    8.14    8.14      0
    16777216       4194304     float     sum      -1   1890.7    8.87    8.87  8.38861e+06   1888.5    8.88    8.88      0
    33554432       8388608     float     sum      -1   3707.8    9.05    9.05  1.67772e+07   3708.9    9.05    9.05      0
    67108864      16777216     float     sum      -1   7337.7    9.15    9.15  3.35544e+07   7333.0    9.15    9.15      0
   134217728      33554432     float     sum      -1    14601    9.19    9.19  6.71088e+07    14564    9.22    9.22      0
   268435456      67108864     float     sum      -1    28995    9.26    9.26  1.34218e+08    28986    9.26    9.26      0
x3006c0s25b0n0:8558:8558 [0] NCCL INFO comm 0x14b98a45a010 rank 0 nranks 2 cudaDev 0 busId 7000 - Destroy COMPLETE
x3006c0s31b0n0:26757:26757 [0] NCCL INFO comm 0x149f5845a010 rank 1 nranks 2 cudaDev 0 busId 7000 - Destroy COMPLETE
# Out of bounds values : 38 FAILED
# Avg bus bandwidth    : 4.48209 
#

# nThread 1 nGpus 1 minBytes 1024 maxBytes 268435456 step: 2(factor) warmup iters: 5 iters: 60 agg iters: 1 validation: 1 graph: 0
#
# Using devices
#  Rank  0 Group  0 Pid   8582 on x3006c0s25b0n0 device  0 [0x07] NVIDIA A100-SXM4-40GB
#  Rank  1 Group  0 Pid  26777 on x3006c0s31b0n0 device  0 [0x07] NVIDIA A100-SXM4-40GB
x3006c0s25b0n0:8582:8582 [0] NCCL INFO NCCL_SOCKET_IFNAME set by environment to hsn0,hsn1
x3006c0s25b0n0:8582:8582 [0] NCCL INFO Bootstrap : Using hsn1:10.201.2.19<0>
x3006c0s25b0n0:8582:8582 [0] NCCL INFO NET/Plugin: Failed to find ncclCollNetPlugin_v5 symbol.
x3006c0s25b0n0:8582:8582 [0] NCCL INFO NET/Plugin: Failed to find ncclCollNetPlugin_v4 symbol.
x3006c0s25b0n0:8582:8582 [0] NCCL INFO NET/OFI Initializing aws-ofi-nccl 1.7.4-aws
x3006c0s25b0n0:8582:8582 [0] NCCL INFO NET/OFI Using CUDA runtime version 11080
x3006c0s25b0n0:8582:8582 [0] NCCL INFO NET/OFI Selected Provider is cxi (found 4 nics)
x3006c0s25b0n0:8582:8582 [0] NCCL INFO NET/OFI Using transport protocol SENDRECV
x3006c0s25b0n0:8582:8582 [0] NCCL INFO Using network AWS Libfabric
NCCL version 2.12.12.MSCCL.0.7.4+cuda11.8
x3006c0s31b0n0:26777:26777 [0] NCCL INFO NCCL_SOCKET_IFNAME set by environment to hsn0,hsn1
x3006c0s31b0n0:26777:26777 [0] NCCL INFO Bootstrap : Using hsn1:10.201.2.24<0>
x3006c0s31b0n0:26777:26777 [0] NCCL INFO NET/Plugin: Failed to find ncclCollNetPlugin_v5 symbol.
x3006c0s31b0n0:26777:26777 [0] NCCL INFO NET/Plugin: Failed to find ncclCollNetPlugin_v4 symbol.
x3006c0s31b0n0:26777:26777 [0] NCCL INFO NET/OFI Initializing aws-ofi-nccl 1.7.4-aws
x3006c0s31b0n0:26777:26777 [0] NCCL INFO NET/OFI Using CUDA runtime version 11080
x3006c0s31b0n0:26777:26777 [0] NCCL INFO NET/OFI Selected Provider is cxi (found 4 nics)
x3006c0s31b0n0:26777:26777 [0] NCCL INFO NET/OFI Using transport protocol SENDRECV
x3006c0s31b0n0:26777:26777 [0] NCCL INFO Using network AWS Libfabric
x3006c0s25b0n0:8582:8598 [0] NCCL INFO Channel 00/02 :    0   1
x3006c0s25b0n0:8582:8598 [0] NCCL INFO Channel 01/02 :    0   1
x3006c0s25b0n0:8582:8598 [0] NCCL INFO Trees [0] 1/-1/-1->0->-1 [1] -1/-1/-1->0->1
x3006c0s31b0n0:26777:26792 [0] NCCL INFO Trees [0] -1/-1/-1->1->0 [1] 0/-1/-1->1->-1
x3006c0s25b0n0:8582:8598 [0] NCCL INFO Channel 00/0 : 1[7000] -> 0[7000] [receive] via NET/AWS Libfabric/1
x3006c0s31b0n0:26777:26792 [0] NCCL INFO Channel 00/0 : 0[7000] -> 1[7000] [receive] via NET/AWS Libfabric/1
x3006c0s25b0n0:8582:8598 [0] NCCL INFO Channel 01/0 : 1[7000] -> 0[7000] [receive] via NET/AWS Libfabric/1
x3006c0s31b0n0:26777:26792 [0] NCCL INFO Channel 01/0 : 0[7000] -> 1[7000] [receive] via NET/AWS Libfabric/1
x3006c0s25b0n0:8582:8598 [0] NCCL INFO Channel 00/0 : 0[7000] -> 1[7000] [send] via NET/AWS Libfabric/1
x3006c0s25b0n0:8582:8598 [0] NCCL INFO Channel 01/0 : 0[7000] -> 1[7000] [send] via NET/AWS Libfabric/1
x3006c0s31b0n0:26777:26792 [0] NCCL INFO Channel 00/0 : 1[7000] -> 0[7000] [send] via NET/AWS Libfabric/1
x3006c0s31b0n0:26777:26792 [0] NCCL INFO Channel 01/0 : 1[7000] -> 0[7000] [send] via NET/AWS Libfabric/1
x3006c0s31b0n0:26777:26792 [0] NCCL INFO Connected all rings
x3006c0s31b0n0:26777:26792 [0] NCCL INFO Connected all trees
x3006c0s31b0n0:26777:26792 [0] NCCL INFO MSCCL_XML_FILES set by environment to /home/yuke/ncclPG/CCL-LYD/msccl_tools_lyd/examples/xml/xml_lyd/binary_h_gpu01_reverse_p/allreduce_binary_tree_p_gpu01_2nodes_2gpus_channel2_reverse_chunk2.xml
x3006c0s31b0n0:26777:26792 [0] NCCL INFO MSCCL: Parsing algorithm /home/yuke/ncclPG/CCL-LYD/msccl_tools_lyd/examples/xml/xml_lyd/binary_h_gpu01_reverse_p/allreduce_binary_tree_p_gpu01_2nodes_2gpus_channel2_reverse_chunk2.xml
x3006c0s31b0n0:26777:26792 [0] NCCL INFO Parsed MSCCL Algorithm /home/yuke/ncclPG/CCL-LYD/msccl_tools_lyd/examples/xml/xml_lyd/binary_h_gpu01_reverse_p/allreduce_binary_tree_p_gpu01_2nodes_2gpus_channel2_reverse_chunk2.xml successfully.
x3006c0s31b0n0:26777:26792 [0] NCCL INFO Connected 1 MSCCL algorithms
x3006c0s31b0n0:26777:26792 [0] NCCL INFO NCCL_NTHREADS set by environment to 512.
x3006c0s31b0n0:26777:26792 [0] NCCL INFO NCCL_PROTO set by environment to Simple
x3006c0s31b0n0:26777:26792 [0] NCCL INFO NCCL_ALGO set by environment to MSCCL,TREE,RING
x3006c0s31b0n0:26777:26792 [0] NCCL INFO threadThresholds 8/8/64 | 16/8/64 | 8/8/64 | 8/8/512
x3006c0s31b0n0:26777:26792 [0] NCCL INFO 2 coll channels, 2 p2p channels, 2 p2p channels per peer
x3006c0s25b0n0:8582:8598 [0] NCCL INFO Connected all rings
x3006c0s25b0n0:8582:8598 [0] NCCL INFO Connected all trees
x3006c0s25b0n0:8582:8598 [0] NCCL INFO MSCCL_XML_FILES set by environment to /home/yuke/ncclPG/CCL-LYD/msccl_tools_lyd/examples/xml/xml_lyd/binary_h_gpu01_reverse_p/allreduce_binary_tree_p_gpu01_2nodes_2gpus_channel2_reverse_chunk2.xml
x3006c0s25b0n0:8582:8598 [0] NCCL INFO MSCCL: Parsing algorithm /home/yuke/ncclPG/CCL-LYD/msccl_tools_lyd/examples/xml/xml_lyd/binary_h_gpu01_reverse_p/allreduce_binary_tree_p_gpu01_2nodes_2gpus_channel2_reverse_chunk2.xml
x3006c0s25b0n0:8582:8598 [0] NCCL INFO Parsed MSCCL Algorithm /home/yuke/ncclPG/CCL-LYD/msccl_tools_lyd/examples/xml/xml_lyd/binary_h_gpu01_reverse_p/allreduce_binary_tree_p_gpu01_2nodes_2gpus_channel2_reverse_chunk2.xml successfully.
x3006c0s25b0n0:8582:8598 [0] NCCL INFO Connected 1 MSCCL algorithms
x3006c0s25b0n0:8582:8598 [0] NCCL INFO NCCL_NTHREADS set by environment to 512.
x3006c0s25b0n0:8582:8598 [0] NCCL INFO NCCL_PROTO set by environment to Simple
x3006c0s25b0n0:8582:8598 [0] NCCL INFO NCCL_ALGO set by environment to MSCCL,TREE,RING
x3006c0s25b0n0:8582:8598 [0] NCCL INFO threadThresholds 8/8/64 | 16/8/64 | 8/8/64 | 8/8/512
x3006c0s25b0n0:8582:8598 [0] NCCL INFO 2 coll channels, 2 p2p channels, 2 p2p channels per peer
x3006c0s31b0n0:26777:26792 [0] NCCL INFO comm 0x147f7a45a010 rank 1 nranks 2 cudaDev 0 busId 7000 - Init COMPLETE
x3006c0s25b0n0:8582:8598 [0] NCCL INFO comm 0x14732045a010 rank 0 nranks 2 cudaDev 0 busId 7000 - Init COMPLETE
#
#                                                              out-of-place                       in-place          
#       size         count      type   redop    root     time   algbw   busbw #wrong     time   algbw   busbw #wrong
#        (B)    (elements)                               (us)  (GB/s)  (GB/s)            (us)  (GB/s)  (GB/s)       
x3006c0s25b0n0:8582:8582 [0] NCCL INFO Launch mode Parallel
        1024           256     float     sum      -1    48.53    0.02    0.02    512    48.09    0.02    0.02      0
        2048           512     float     sum      -1    48.46    0.04    0.04   1024    48.57    0.04    0.04      0
        4096          1024     float     sum      -1    49.12    0.08    0.08   2048    48.82    0.08    0.08      0
        8192          2048     float     sum      -1    51.69    0.16    0.16   4096    51.28    0.16    0.16      0
       16384          4096     float     sum      -1    52.60    0.31    0.31   8192    52.65    0.31    0.31      0
       32768          8192     float     sum      -1    54.91    0.60    0.60  16384    55.27    0.59    0.59      0
       65536         16384     float     sum      -1    64.77    1.01    1.01  32768    64.80    1.01    1.01      0
      131072         32768     float     sum      -1    73.40    1.79    1.79  65536    66.03    1.99    1.99      0
      262144         65536     float     sum      -1    81.01    3.24    3.24  131072    80.05    3.27    3.27      0
      524288        131072     float     sum      -1    108.8    4.82    4.82  262144    109.6    4.78    4.78      0
     1048576        262144     float     sum      -1    170.2    6.16    6.16  524288    168.6    6.22    6.22      0
     2097152        524288     float     sum      -1    294.8    7.11    7.11  1.04858e+06    293.5    7.15    7.15      0
     4194304       1048576     float     sum      -1    533.4    7.86    7.86  2.09715e+06    534.2    7.85    7.85      0
     8388608       2097152     float     sum      -1    945.7    8.87    8.87  4.1943e+06    943.9    8.89    8.89      0
    16777216       4194304     float     sum      -1   1701.2    9.86    9.86  8.38861e+06   1699.8    9.87    9.87      0
    33554432       8388608     float     sum      -1   3313.6   10.13   10.13  1.67772e+07   3313.2   10.13   10.13      0
    67108864      16777216     float     sum      -1   6522.2   10.29   10.29  3.35544e+07   6525.5   10.28   10.28      0
   134217728      33554432     float     sum      -1    12983   10.34   10.34  6.71088e+07    12943   10.37   10.37      0
   268435456      67108864     float     sum      -1    25767   10.42   10.42  1.34218e+08    25760   10.42   10.42      0
x3006c0s25b0n0:8582:8582 [0] NCCL INFO comm 0x14732045a010 rank 0 nranks 2 cudaDev 0 busId 7000 - Destroy COMPLETE
x3006c0s31b0n0:26777:26777 [0] NCCL INFO comm 0x147f7a45a010 rank 1 nranks 2 cudaDev 0 busId 7000 - Destroy COMPLETE
# Out of bounds values : 38 FAILED
# Avg bus bandwidth    : 4.90921 
#

